<div *ngIf="!isUpdateFormActive">
  <form [formGroup]="addForm">
    <div>
      Personal Adı
      <input formControlName="name" type="text" />
    </div>
    <div>
      Departman
      <select formControlName="profession">
        <option>Muhasebe</option>
        <option>Finans</option>
        <option>Yazılım</option>
      </select>
    </div>
    <div>
      İşe Giriş Tarihi
      <input type="date" formControlName="startingDate" />
      <div>
        <button [disabled]="!addForm.valid" (click)="save()">Kaydet</button>
      </div>
    </div>
  </form>
</div>

<div *ngIf="isUpdateFormActive">
  <form [formGroup]="updateForm">
    <div>
      Personal Adı
      <input formControlName="name" type="text" />
    </div>
    <div>
      Departman
      <select formControlName="profession">
        <option>Muhasebe</option>
        <option>Finans</option>
        <option>Yazılım</option>
      </select>
    </div>
    <div>
      İşe Giriş Tarihi
      <input type="date" formControlName="startingDate" />
      <div>
        <button [disabled]="!updateForm.valid" (click)="update()">
          Güncelle
        </button>
        <button (click)="cancel()">Vazgeç</button>
      </div>
    </div>
  </form>
</div>

<hr />
<table>
  <thead>
    <tr>
      <th>#</th>
      <th>Personel Adı</th>
      <th>Bölümü</th>
      <th>İşe Giriş Tarihi</th>
      <th>İşlemler</th>
    </tr>
  </thead>

  <tbody>
    <tr>
      @for (employee of employees; track $index) {
      <td>{{ $index + 1 }}</td>
      <td>{{ employee.name }}</td>
      <td>{{ employee.profession }}</td>
      <td>{{ employee.startingDate | date : "dd:MM:yyyy" }}</td>
      <td><button (click)="get(employee, $index)">Güncelle</button></td>
      }
    </tr>
  </tbody>
</table>
